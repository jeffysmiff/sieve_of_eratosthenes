<!DOCTYPE html>
<head>
	<style type="text/css">
		.container {
			height: 100%;
			width: 100%;
			display: flex;
		}
		.box {
			width: 33%;
		}
	</style>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
		$( document ).ready(function() {
			let nodeRes = undefined;
			let pythonRes = undefined;
			let javaRes = undefined;
			let chart = undefined;
			$.when(
				$.getJSON("node.json", function(data){
					nodeRes = data;
				}),
				$.getJSON("python.json", function(data){
					pythonRes = data;
				}),
				$.getJSON("java.json", function(data){
					javaRes = data;
				})
			).then(function() {
                console.log(JSON.stringify(nodeRes,null,2)),
                console.log(JSON.stringify(pythonRes,null,2)),
                console.log(JSON.stringify(javaRes,null,2)),
                chart100 = new CanvasJS.Chart("chartContainer1", {
                    animationEnabled: true,
                    title:{
                        text: "Sieve of Eratosthenes - Results to 100 Primes"
                    },	
                    axisY: {
                        title: "Duration (micros)",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC"
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor:"pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "column",
                            name: "Language",
                    		legendText: "Language",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "Node", y: nodeRes.node["100"].duration },
                                { label: "Python", y: pythonRes.python["100"].duration },
                                { label: "Java", y: javaRes.java["100"].duration }
                            ]
                        }
                    ]
                }),
                chart100.render(),
                chart1000 = new CanvasJS.Chart("chartContainer2", {
                    animationEnabled: true,
                    title:{
                        text: "Sieve of Eratosthenes - Results to 1000 Primes"
                    },	
                    axisY: {
                        title: "Duration (micros)",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC"
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor:"pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "column",
                            name: "Node",
                    		legendText: "Node",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000", y: nodeRes.node["1000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Python",
                    		legendText: "Python",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000", y: pythonRes.python["1000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Java",
                    		legendText: "Java",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000", y: javaRes.java["1000"].duration }
                            ]
                        }
                    ]
                }),
                chart1000.render(),
                chart10000 = new CanvasJS.Chart("chartContainer3", {
                    animationEnabled: true,
                    title:{
                        text: "Sieve of Eratosthenes - Results to 10000 Primes"
                    },	
                    axisY: {
                        title: "Duration (micros)",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC"
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor:"pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "column",
                            name: "Node",
                    		legendText: "Node",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "10000", y: nodeRes.node["10000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Python",
                    		legendText: "Python",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "10000", y: pythonRes.python["10000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Java",
                    		legendText: "Java",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "10000", y: javaRes.java["10000"].duration }
                            ]
                        }
                    ]
                }),
                chart10000.render(),
                chart100000 = new CanvasJS.Chart("chartContainer4", {
                    animationEnabled: true,
                    title:{
                        text: "Sieve of Eratosthenes - Results to 100000 Primes"
                    },	
                    axisY: {
                        title: "Duration (micros)",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC"
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor:"pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "column",
                            name: "Node",
                    		legendText: "Node",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "100000", y: nodeRes.node["100000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Python",
                    		legendText: "Python",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "100000", y: pythonRes.python["100000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Java",
                    		legendText: "Java",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "100000", y: javaRes.java["100000"].duration }
                            ]
                        }
                    ]
                }),
                chart100000.render(),
                chart1000000 = new CanvasJS.Chart("chartContainer5", {
                    animationEnabled: true,
                    title:{
                        text: "Sieve of Eratosthenes - Results to 1000000 Primes"
                    },	
                    axisY: {
                        title: "Duration (micros)",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC"
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor:"pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [
                        {
                            type: "column",
                            name: "Node",
                    		legendText: "Node",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000000", y: nodeRes.node["1000000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Python",
                    		legendText: "Python",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000000", y: pythonRes.python["1000000"].duration }
                            ]
                        },
                        {
                            type: "column",
                            name: "Java",
                    		legendText: "Java",
		                    showInLegend: true, 
                            dataPoints: [   
                                { label: "1000000", y: javaRes.java["1000000"].duration }
                            ]
                        }
                    ]
                }),
                chart1000000.render()
			});
		});
        function toggleDataSeries(e) {
            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                e.dataSeries.visible = false;
            } else {
                e.dataSeries.visible = true;
            }
            e.chart100.render();
        }
    </script>
</head>
<html>
	<body>
		<div class="container">
			<div class="box" id="chartContainer1" style="height: 370px;"></div>
			<div class="box" id="chartContainer2" style="height: 370px;"></div>
			<div class="box" id="chartContainer3" style="height: 370px;"></div>
		</div>
		<div class="container">
			<div class="box" id="chartContainer4" style="height: 370px;"></div>
			<div class="box" id="chartContainer5" style="height: 370px;"></div>
		</div>
		<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	</body>
</html>
